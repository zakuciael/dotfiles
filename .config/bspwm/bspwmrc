#! /bin/sh

# Set XDG envs
export XDG_CONFIG_HOME=$HOME/.config/

# X compositor
picom -b &

# Wallpapers
nitrogen --restore &

# Run sxhkd
set -U SXHKD_SHELL /usr/bin/bash &
sxhkd &

# Autostart programs
dex -a &
/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &

# Setup correct monitor layout
bspc wm -O HDMI-A-0 DisplayPort-0 DVI-D-1
bspc monitor HDMI-A-0 -d I II III
bspc monitor DisplayPort-0 -d IV V VI
bspc monitor DVI-D-1 -d VII VII VIII

# BSPWM config
bspc config border_width          3
bspc config window_gap            10
bspc config split_ratio           0.52
bspc config borderless_monocle		false
bspc config gapless_monocle       false
bspc config normal_border_color   "#333333"
bspc config focused_border_color  "#3a94da"

# Window rules
bspc rule -a Ulauncher state=floating border=off
bspc rule -a discord desktop='^7'
bspc rule -a "Google-chrome" desktop='^4'
bspc rule -a Shadow desktop='^1' state=floating

# Fix Java applications
wmname LG3D
export _JAVA_AWT_WM_NONREPARENTING=1
